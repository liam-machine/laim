{
  "$schema": "https://developer.microsoft.com/json-schemas/fabric/item/report/definition/visualContainer/2.4.0/schema.json",
  "name": "{{VISUAL_NAME}}",
  "position": {
    "x": 40,
    "y": 80,
    "width": 400,
    "height": 300,
    "z": 0,
    "tabOrder": 0
  },
  "visual": {
    "$schema": "https://developer.microsoft.com/json-schemas/fabric/item/report/definition/visualConfiguration/2.2.0/schema.json",
    "visualType": "clusteredColumnChart",
    "drillFilterOtherVisuals": true,
    "query": {
      "queryState": {
        "Category": {
          "projections": [
            {
              "field": {
                "Column": {
                  "Expression": {
                    "SourceRef": {
                      "Entity": "{{TABLE_NAME}}"
                    }
                  },
                  "Property": "{{CATEGORY_COLUMN}}"
                }
              },
              "queryRef": "{{TABLE_NAME}}.{{CATEGORY_COLUMN}}",
              "displayName": "{{CATEGORY_DISPLAY_NAME}}"
            }
          ]
        },
        "Y": {
          "projections": [
            {
              "field": {
                "Measure": {
                  "Expression": {
                    "SourceRef": {
                      "Entity": "{{MEASURE_TABLE}}"
                    }
                  },
                  "Property": "{{MEASURE_NAME}}"
                }
              },
              "queryRef": "{{MEASURE_TABLE}}.{{MEASURE_NAME}}",
              "displayName": "{{MEASURE_DISPLAY_NAME}}"
            }
          ]
        }
      }
    },
    "objects": {
      "categoryAxis": [
        {
          "properties": {
            "show": {
              "expr": {
                "Literal": {
                  "Value": "true"
                }
              }
            }
          }
        }
      ],
      "valueAxis": [
        {
          "properties": {
            "show": {
              "expr": {
                "Literal": {
                  "Value": "true"
                }
              }
            }
          }
        }
      ],
      "legend": [
        {
          "properties": {
            "show": {
              "expr": {
                "Literal": {
                  "Value": "false"
                }
              }
            }
          }
        }
      ],
      "dataPoint": [
        {
          "properties": {}
        }
      ]
    }
  },
  "_comments": {
    "_description": "PBIR Clustered Column Chart Visual Template",
    "_usage": "Clone this file into your report's pages/[pageName]/visuals/[visualName]/ folder as visual.json",
    "_placeholders": {
      "{{VISUAL_NAME}}": "Unique 20-character identifier (e.g., 'clm_sales_by_region')",
      "{{TABLE_NAME}}": "The table containing the category column (e.g., 'Products')",
      "{{CATEGORY_COLUMN}}": "The column for X-axis categories (e.g., 'Category')",
      "{{CATEGORY_DISPLAY_NAME}}": "Display label for category axis (e.g., 'Product Category')",
      "{{MEASURE_TABLE}}": "The table containing the measure (e.g., 'Sales')",
      "{{MEASURE_NAME}}": "The measure for Y-axis values (e.g., 'Total Sales')",
      "{{MEASURE_DISPLAY_NAME}}": "Display label for measure (e.g., 'Total Sales')"
    },
    "_position": {
      "x": "Horizontal position from left edge in pixels",
      "y": "Vertical position from top edge in pixels",
      "width": "Visual width in pixels (default page is 1280 wide)",
      "height": "Visual height in pixels (default page is 720 tall)",
      "z": "Z-order stacking (higher values on top)",
      "tabOrder": "Keyboard navigation order"
    },
    "_queryState_roles": {
      "Category": "X-axis field (categorical data)",
      "Y": "Y-axis field (numeric measure)",
      "Series": "Optional - legend/color grouping field",
      "Tooltips": "Optional - additional tooltip fields"
    },
    "_objects_formatting": {
      "categoryAxis": "X-axis display settings",
      "valueAxis": "Y-axis display settings",
      "legend": "Legend visibility and position",
      "dataPoint": "Bar/column colors and formatting"
    }
  }
}
